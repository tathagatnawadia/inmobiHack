/*** redirects.js ***/
(function(){if(window.localStorage&&window.localStorage.getItem&&(window.localStorage.getItem("disableRedirects")==="true")){return;}var alternateLinks=document.head.querySelectorAll('link[rel="alternate"]');var alternateLink=Array.prototype.filter.call(alternateLinks,function(el){return el.media;})[0];var legacyBrowserUA=[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i];var isLegacyBrowser=legacyBrowserUA.some(function(rgx){return window.navigator.userAgent.match(rgx);});if(alternateLink){var mediaQuery=alternateLink.getAttribute("media");var currentPage=window.location.host.split(".");var isMobile=currentPage.some(function(el){return(el==="m");});var isDesktop=!isMobile;var matchMediaQuery=window.matchMedia(mediaQuery).matches;if(isLegacyBrowser&&window.screen&&window.screen.width&&window.devicePixelRatio){var matchMedia=true;var deviceWidth=(window.screen.width/window.devicePixelRatio);var maxDeviceWidth=mediaQuery.match(/max-device-width:[ ]{0,1}([0-9]+)px/);var minDeviceWidth=mediaQuery.match(/min-device-width:[ ]{0,1}([0-9]+)px/);if(maxDeviceWidth){maxDeviceWidth=parseInt(maxDeviceWidth[1],10);matchMedia=matchMedia&&(deviceWidth<=maxDeviceWidth);}if(minDeviceWidth){minDeviceWidth=parseInt(minDeviceWidth[1],10);matchMedia=matchMedia&&(deviceWidth>=minDeviceWidth);}if(maxDeviceWidth||minDeviceWidth){matchMediaQuery=matchMedia;}}var link=isMobile?document.head.querySelector('link[rel="canonical"]'):alternateLink;if(link&&((matchMediaQuery&&isDesktop)||(!matchMediaQuery&&isMobile))){var redirectURL=link.getAttribute("href");var params={};var paraQuery="";if(window.location.search){window.location.search.slice(1).split("&").filter(function(el){return !!el;}).forEach(function(el){var splat=el.split("=");if(splat.length===2){params[splat[0]]=splat[1];}});}if(document.referrer){params["utm_referrer"]=encodeURIComponent(document.referrer);}paraQuery=Object.keys(params).map(function(key){return key+"="+params[key];}).join("&");if(paraQuery){redirectURL+=(redirectURL.indexOf("?")===-1?"?":"&")+paraQuery;}if(window.stop){window.stop();}window.location.replace(redirectURL);}}}());
